# 42.接雨水

https://leetcode.cn/problems/trapping-rain-water/description/?envType=study-plan-v2&envId=top-100-liked

```java
class Solution {
    public int trap(int[] height) {
        int left = 0;
        int right = height.length-1;
        int sum = 0;
        int leftmax = height[left];
        int rightmax= height[height.length-1];
        while(left<=right){
            if(leftmax<=rightmax){
                leftmax=Math.max(leftmax,height[left]);
                sum+=leftmax-height[left];
                left++;
            }else{
                rightmax=Math.max(rightmax,height[right]);
                sum+=rightmax-height[right];
                right--;
            }
        }
        return sum;
    }
}
```

每个位置i雨水的面积就等于：**左右两边最大的高度中小的那个减去当前位置的高度**

双指针法，记录下左右当前的最高高度，然后因为雨水的量由矮的那边决定，因此移动矮的那边的指针(如果你移动高的一边（假设右边更高），那么左边的 leftMax 可能还会增大，我们还不知道真正的左边最大值是多少。此时 min(leftMax, rightMax) 还不确定，直接用当前的左右 max 去算水量可能会高估)，更新max值，累计雨水值