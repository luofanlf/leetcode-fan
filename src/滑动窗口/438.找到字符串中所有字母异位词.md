# 438.找到字符串中所有字母异位词

https://leetcode.cn/problems/find-all-anagrams-in-a-string/description/?envType=study-plan-v2&envId=top-100-liked

```java
class Solution {
    public List<Integer> findAnagrams(String s, String p) {
        List<Integer> ans = new ArrayList<>();
        //维护一个存放目标值的set
        Map<Character,Integer> target = new HashMap<>();
        for(int i = 0;i<p.length();i++){
           target.put(p.charAt(i), target.getOrDefault(p.charAt(i), 0) + 1);
        }
        if(s.length()<p.length()){
            return new ArrayList(){};
        }

        //维护一个滑动窗口和一个set存放当前窗口里的值
        Map<Character,Integer> curr = new HashMap<>();
        for(int i = 0;i<p.length();i++){
            curr.put(s.charAt(i), curr.getOrDefault(s.charAt(i), 0) + 1);
        }
        //滑动窗口
        int start = 0;
        int end = p.length()-1;
        while(end<s.length()){
            if(curr.equals(target)){
                ans.add(start);
            }
            //移除start
            char c = s.charAt(start);
            curr.put(c, curr.get(c) - 1);
            if (curr.get(c) == 0) {
                curr.remove(c);
            }
            //添加end的下一个 
            if(end<s.length()-1){
                curr.put(s.charAt(end+1), curr.getOrDefault(s.charAt(end+1), 0) + 1);
            }
            start++;
            end++;
            
        }
        return ans;
    }
}
```

滑动窗口，先将目标数组存入哈希表中，在从操作数组的第一个开始建立滑动窗口，也建立一个哈希表存入数据，每次滑动1，进入一个元素出去一个元素更新哈希表，将两个哈希表比较，如果相等将start的索引加入答案list。