# 763.划分字母区间

https://leetcode.cn/problems/partition-labels/description/?envType=study-plan-v2&envId=top-100-liked

```java
class Solution {
    public List<Integer> partitionLabels(String s) {
        //建立一个map存储每个字母最后出现的位置
        Map<Character,Integer> last = new HashMap<>();
        char[] c = s.toCharArray();
        for(int i = 0;i<c.length;i++){
            last.put(c[i],i);
        }

        //currEnd是当前片段的结尾
        int start = 0;
        int currEnd = last.get(c[0]);
        int maxLast = 0;
        List<Integer> res = new ArrayList<>();
        for(int i= 0;i<c.length;i++){
            //依据当前字符的last更新currEnd
            currEnd = Math.max(currEnd,last.get(c[i]));
            if(i == currEnd){
                res.add(currEnd-start+1);
                start = currEnd+1;
            }
        }
        return res;

    }
}
```

首先如果要满足题目中要求的片段，那么所有的同一个字母必须都出现在片段内，也就是在当前区间的字母的最后出现的一次必须也在区间内，所以先建立一个map用于存储string中出现的所有字母最后一次出现的位置。然后开始遍历，设置currend为第一个字母最后一次出现的位置，在到达currend前，如果有新的字母出现并且其lastIndex大于currend则扩展片段更新currend。如果index等于currend则说明当前片段内的所有字母满足要求，将片段长度加入结果并更新start继续遍历。