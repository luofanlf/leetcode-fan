# 138.随机链表的复制

https://leetcode.cn/problems/copy-list-with-random-pointer/description/?envType=study-plan-v2&envId=top-100-liked

```java
class Solution {
    public Node copyRandomList(Node head) {
       Map<Node,Node> nodeMap = new HashMap<>();
       Node curr = head;
       while(curr!=null){
            nodeMap.put(curr,new Node(curr.val));
            curr=curr.next;
       }
       curr = head;
       while(curr!=null){
            nodeMap.get(curr).next=nodeMap.get(curr.next);
            nodeMap.get(curr).random=nodeMap.get(curr.random);
            curr=curr.next;
       }
       return nodeMap.get(head);
    }
}
```

要深拷贝每一个节点的值，以及指针和随意指针到一个一个新的链表中，建立一个<Node,Node>的哈希表。两次循环，第一次构建哈希表，创新新的节点以及映射关系，第二次循环根据映射关系更新新的节点的指针和随机指针（因为原链表作为哈希表的键已经有了指针，所以只要根据指针获取哈希表的值—新链表的节点即可建立新链表节点间的指针）

